#
# Copyright (c) 1990-2007 Aldor Software Organization Ltd (Aldor.org).
#

LibDir = $(ALDORLIBROOT)/lib
IncDir = $(ALDORLIBROOT)/include
DocDir = $(ALDORLIBROOT)/doc/tex
TestDir = $(ALDORLIBROOT)/test
StampDir  = $(LibDir)
DocStampDir  = $(DocDir)
TestStampDir  = $(TestDir)

ALDOR=$(COMPILER) $(FLAGS)

.SUFFIXES: .ao .as

# Implicit rule for building .al file
.as.ao: 
	@echo Compiling $*.as ...
	$(ALDOR) $(MAKEDIR)\$*.as
	@uniar rv $(ALDORLIB) $*.ao
	@del $*.ao

SRCS = sal_lstruc sal_fstruc sal_bstruc sal_parray sal_list sal_array\
	sal_barray sal_ckarray sal_string sal_hash sal_set sal_stream\
	sal_memblk sal_ckmembk sal_pkarray sal_data sal_bdata sal_ddata\
	sal_table sal_kntry sal_slist sal_sset sal_sortas sal_cklist\
	ald_queue ald_flags

aobj: sal_data.ao sal_bdata.ao sal_ddata.ao sal_lstruc.ao sal_fstruc.ao \
	sal_bstruc.ao sal_list.ao sal_cklist.ao sal_set.ao sal_sset.ao \
	sal_slist.ao sal_parray.ao sal_pkarray.ao ald_queue.ao sal_barray.ao \
	ald_flags.ao sal_string.ao sal_stream.ao sal_array.ao sal_ckarray.ao \
	sal_memblk.ao sal_ckmembk.ao sal_table.ao sal_kntry.ao sal_hash.ao \
	sal_sortas.ao

clean:
	-@del /q *.c *.h *.fm *.ao *.o *~

# Explicit dependencies

sal_data.ao: 
sal_bdata.ao: sal_data.ao
sal_ddata.ao: sal_bdata.ao
sal_lstruc.ao: sal_data.ao
sal_fstruc.ao: sal_lstruc.ao
sal_bstruc.ao: sal_fstruc.ao sal_bdata.ao
sal_list.ao: sal_bstruc.ao sal_ddata.ao
sal_cklist.ao: sal_list.ao
sal_set.ao: sal_list.ao
sal_sset.ao: sal_list.ao
sal_slist.ao: sal_list.ao
sal_parray.ao: sal_list.ao
sal_pkarray.ao: sal_list.ao
ald_queue.ao: sal_list.ao
sal_barray.ao: sal_pkarray.ao
ald_flags.ao: sal_barray.ao
sal_string.ao: sal_array.ao
sal_stream.ao: sal_string.ao
sal_array.ao: sal_parray.ao
sal_ckarray.ao: sal_array.ao
sal_memblk.ao: sal_array.ao
sal_ckmembk.ao: sal_memblk.ao
sal_table.ao: sal_string.ao
sal_kntry.ao: 
sal_hash.ao: sal_table.ao sal_kntry.ao
sal_sortas.ao: sal_table.ao sal_kntry.ao sal_sset.ao

